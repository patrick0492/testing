<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Image Landing</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Signika:wght@300..700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="gsap94.css"> 
</head>
<body>
  <div class="overlay">
    <div class="projects">
      <div class="projects-header">
        <p>Projects</p>
        <p>Directors</p>
      </div>
    </div>
    <div class="loader">
      <h1 class="logo-line-1">Nova </h1>
      <h1 class="logo-line-2">Vice .</h1>
    </div>
    <div class="locations">
      <div class="locations-header">
        <p>Location</p>
      </div>
    </div>
  </div>

  <div class="image-grid">
    <div class="grid-row">
      <div class="img"><img src="./img/0036.jpg" alt=""></div>
      <div class="img"><img src="./img/0039.jpg" alt=""></div>
      <div class="img"><img src="./img/0014.jpg" alt=""></div>
    </div>
    <div class="grid-row">
      <div class="img"><img src="./img/0030.jpg" alt=""></div>
      <div class="img hero-img"><img src="./img/0033.jpg" alt=""></div>
      <div class="img"><img src="./img/0007.jpg" alt=""></div>
    </div>
    <div class="grid-row">
      <div class="img"><img src="./img/0014.jpg" alt=""></div>
      <div class="img"><img src="./img/0034.jpg" alt=""></div>
      <div class="img"><img src="./img/0013.jpg" alt=""></div>
    </div>
  </div>

  <nav>
    <div class="links">
      <a href="#!">Index</a>
      <a href="#!">Work</a>
    </div>
    <div class="nav-logo">
      <a href="#!">Nova <br>Vice .</a>
    </div>
    <div class="links">
      <a href="#!">About</a>
      <a href="#!">Contact</a>
    </div>
  </nav>

  <div class="banner-img banner-img-1"><img src="./img/0033.jpg" alt=""></div>
  <div class="banner-img banner-img-2"><img src="./img/0036.jpg" alt=""></div>

  <div class="intro-copy">
    <h3>Creative Solutions</h3>
    <h3>Impactful Results</h3>
  </div>

  <div class="title">
    <h1>Crafting Bold Experiences</h1>
  </div>
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/CustomEase.min.js"></script>
  <script src="https://unpkg.com/split-type"></script>
  <!-- <script src="https://unpkg.com/lenis@1.1.1/dist/lenis.min.js"></script> -->
  <script>
    const projectsData =[
      {
        name: 'Viewfinder',
        director: 'Javier //Rodriguez',
        location: 'BLANK Studios - Chicago',
      },
      {
        name: 'Rhythm Collective',
        director: 'Sophia // Chen',
        location: 'London, UK',
      },
      {
        name: 'Urban Odyssey',
        director: 'Leo Thompson',
        location: 'Pioneer STudios - Seattle',
      },
      {
        name: 'Prism No. 1',
        director: 'Taylor // McKnight',
        location: 'Private Estate - Sedona',
      },
      {
        name: 'Vision Quest',
        director: 'Spencer // Hudson',
        location: 'Elevation - Denver',
      },
      {
        name: 'Wavelength',
        director: 'Kai Nakamura',
        location: 'San Francisco, CA',
      },
      {
        name: 'Lunar Eclipse',
        director: 'Amelia Crawford',
        location: 'Toronto, ON',
      },
      {
        name: 'Visitor Quarters',
        director: 'Marcus Reynolds',
        location: 'Vancouver Studio, BC',
      },
      {
        name: 'Celestial',
        director: 'Nina Liu // Weston',
        location: 'Austin, TX',
      },
      {
        name: 'Streamwave Original',
        director: 'Dylan Pierce',
        location: 'Sunset Studios - Miami',
      },
      {
        name: 'Viewfinder',
        director: 'Javier //Rodriguez',
        location: 'BLANK Studios - Chicago',
      },
      {
        name: 'Rhythm Collective',
        director: 'Sophia // Chen',
        location: 'London, UK',
      },
      {
        name: 'Urban Odyssey',
        director: 'Leo Thompson',
        location: 'Pioneer STudios - Seattle',
      },
      {
        name: 'Prism No. 1',
        director: 'Taylor // McKnight',
        location: 'Private Estate - Sedona',
      },
      {
        name: 'Vision Quest',
        director: 'Spencer // Hudson',
        location: 'Elevation - Denver',
      },
      {
        name: 'Wavelength',
        director: 'Kai Nakamura',
        location: 'San Francisco, CA',
      },
            {
        name: 'Celestial',
        director: 'Nina Liu // Weston',
        location: 'Austin, TX',
      },
      {
        name: 'Streamwave Original',
        director: 'Dylan Pierce',
        location: 'Sunset Studios - Miami',
      }
    ];

    gsap.registerPlugin(CustomEase);
    CustomEase.create('hop', '0.9, 0, 0.1, 1');

    document.addEventListener('DOMContentLoaded', () =>{
      const projectsContainer = document.querySelector('.projects');
      const locationsContainer = document.querySelector('.locations');
      const gridImages = gsap.utils.toArray('.img');
      const heroImage = document.querySelector('.hero-img');

      const images = gridImages.filter((img) => img === heroImage);

      const introCopy = new SplitType('.intro-copy h3',{
        types: 'words',
        absolute: false,
      });

      const titleHeading = new SplitType('.title h1',{
        types: 'words',
        absolute: false,
      });

      const allImageSources  = Array.from(
      {length: 9},
      (_, i) => `./img/003${i + 1}.jpg`
      );

      const getRandomImageSet = () =>{
        const shuffled = [...allImageSources].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, 9);
      };

      function initializeDnamicContent(){
        projectsData.forEach((project) =>{
          const projectItem = document.createElement('div');
          projectItem.className = 'project-item';

          const projectName = document.createElement('p');
          projectName.textContent = project.name;

          const directorName = document.createElement('p');
          directorName.textContent = project.director;

          projectItem.appendChild(projectName);
          projectItem.appendChild(directorName);

          projectsContainer.appendChild(projectItem);
        });

        projectsData.forEach((project)=>{
          const locationItem = document.createElement('div');
          locationItem.className = 'location-item';

          const locationName = document.createElement('p');
          locationName.textContent = project.location;

          locationItem.appendChild(locationName);
          locationsContainer.appendChild(locationItem);
        });
      }

      function startImageRotation(){
        const totalCycles = 20;

        for (let cycle = 0; cycle < totalCycles; cycle++){
          const randomImages = getRandomImageSet();

          gsap.to({},{
            duration: 0,
            delay: cycle * 0.15,
            onComplete: () =>{
              gridImages.forEach((img, index) =>{
                const imgElement = img.querySelector('img');

                if (cycle === totalCycles - 1 && img === heroImage){
                  imgElement.src = './img/0013.jpg';
                  gsap.set('.hero-img img', {scale: 2});
                } else{
                  imgElement.src = randomImages[index];
                }
              });
            },
          }
        );
        }
      }

      function setupInititalStates(){
        gsap.set('nav',{
          y: '-125%',
        });

        gsap.set(introCopy.words,{
          y: '110%',
        });

        gsap.set(titleHeading.words,{
          y: '110%',
        });
      }

      function init(){
        initializeDnamicContent();
        setupInititalStates();
        createAnimationTimelines();
      }

      init();

      function createAnimationTimelines(){
        const overlayTimeline = gsap.timeline();
        const imagesTimeline = gsap.timeline();
        const textTimeline = gsap.timeline();

        overlayTimeline.to('.logo-line-1',{
          backgroundPosition: '0% 0%',
          color: '#fff',
          duration: 1,
          ease: 'none',
          delay: 0.5,
          onComplete: () =>{
            gsap.to('.logo-line-2',{
              backgroundPosition: '0% 0%',
              color: '#fff',
              duration: 1,
              ease: 'none',
            });
          },
        });

        overlayTimeline.to(['.projects-header', '.project-item'],{
          opacity: 1,
          duration: 0.15,
          stagger: 0.075,
          delay: 1,
        });

        overlayTimeline.to(['.locations-header', '.location-item'],{
          opacity: 1,
          duration: 0.15,
          stagger: 0.075
        },'<');

        overlayTimeline.to('.project-item',{
          color: '#fff',
          duration: 0.15,
          stagger: 0.075,
        });

        overlayTimeline.to('.location-item',{
          color: '#fff',
          duration: 0.15,
          stagger: 0.075
        },'<');

        overlayTimeline.to(['.projects-header', '.project-item'],{
          opacity: 0,
          duration: 0.15,
          stagger: 0.075,
          delay: 1,
        });

        overlayTimeline.to(['.locations-header', '.location-item'],{
          opacity: 0,
          duration: 0.15,
          stagger: 0.075
        },'<');

        overlayTimeline.to('.overlay',{
          opacity: 0,
          duration: .5,
          delay: 1.5,
        });

        imagesTimeline.to('.img',{
          clipPath: 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)',
          duration: 1,
          delay: 2.5,
          stagger: 0.05,
          ease: 'hop',
          onStart:() =>{
            setTimeout(() =>{
              startImageRotation();
              gsap.to('.loader',{opacity: 0, duration: 0.3});
            },1000);
          },
        });

        imagesTimeline.to('.img:not(.hero-img)',{
          clipPath: 'polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)',
          duration: 1,
          delay: 2.5,
          stagger: 0.05,
          ease: 'hop',
        });

        imagesTimeline.to('.hero-img',{
          y: -50,
          duration: 1,
          ease: 'hop',
        });
        imagesTimeline.to('.hero-img',{
          scale: 4,
          clipPath: 'polygon(20% 10%, 80% 10%, 80% 90%, 20% 90%)',
          duration: 1.5,
          ease: 'hop',
          onStart: ()=>{
            gsap.to('.hero-img img',{
              scale: 1,
              duration: 1.5,
              ease: 'hop',
            });
            gsap.to('.banner-img', {scale: 1, delay: 0.5, duration: 0.5});
            gsap.to('nav',{y: '0%', duration: 1, ease: 'hop', delay: 0.25});
          },
        });

        imagesTimeline.to('.banner-img-1',
          {
            left: '40%',
            rotate: -20,
            duration: 1.5,
            delay: 0.5,
            ease: 'hop',
          },'<'
        );
          imagesTimeline.to('.banner-img-2',{
            left: '60%',
            rotate: 20,
            duration: 1.5,
            ease: 'hop'
          },'<');

          textTimeline.to(titleHeading.words,{
            y: '0%',
            duration: 1,
            stagger: 0.1,
            delay: 9.5,
            ease: 'power3.out',
          });
          textTimeline.to(introCopy.words,{
            y: '0%',
            duration: 1,
            stagger: 0.1,
            delay: 0.25,
            ease: 'power3.out'
          },'<')
      }
    });

  </script>
</body>
</html>